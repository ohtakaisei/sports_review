# 選手データ手動登録ガイド

このガイドでは、Firebaseコンソールから選手データを手動で登録する方法を説明します。

## 📝 登録手順

### 1. Firebaseコンソールにアクセス

1. [Firebase Console](https://console.firebase.google.com/)を開く
2. 自分のプロジェクトを選択
3. 左メニューから「Firestore Database」を選択

### 2. playersコレクションに選手を追加

1. 「コレクションを開始」または既存の`players`コレクションを開く
2. 「ドキュメントを追加」をクリック
3. **ドキュメントID**: 選手のID（例: `lebron-james`）
   - 英数字とハイフン（`-`）のみ使用
   - 小文字推奨
   - 選手名をkebab-caseに変換したものが良い

### 3. フィールドを追加

以下のフィールドを追加してください：

#### 必須フィールド

| フィールド名 | 型 | 説明 | 例 |
|---|---|---|---|
| `playerId` | string | 選手ID（ドキュメントIDと同じ） | `lebron-james` |
| `name` | string | 選手の表示名 | `レブロン・ジェームズ` |
| `team` | string | 所属チーム名 | `ロサンゼルス・レイカーズ` |
| `sport` | string | 競技種目 | `nba` |
| `imageUrl` | string | 選手画像のURL | `https://...` |
| `reviewCount` | number | レビュー数（初期値: 0） | `0` |
| `summary` | map | 評価集計データ（初期値: 空） | `{}` |

#### オプションフィールド（推奨）

| フィールド名 | 型 | 説明 | 例 |
|---|---|---|---|
| `position` | string | ポジション | `SF`, `PG`, `C` など |
| `number` | number | 背番号 | `23` |
| `height` | string | 身長 | `206cm` |
| `weight` | string | 体重 | `113kg` |
| `birthDate` | string | 生年月日 | `1984年12月30日` |
| `country` | string | 国籍 | `アメリカ` |

### 4. 保存

すべてのフィールドを入力したら「保存」をクリック

## 📚 サンプルデータ

`scripts/sample-players.json`に6名のサンプルデータがあります。参考にしてください。

**⚠️ 注意**: サンプルデータはあくまで例です。実際の選手情報を正確に入力してください。

## 🔍 検索・フィルタリング機能

以下のフィールドで選手を検索・フィルタリングできます：

- **チーム名** (`team`)
- **ポジション** (`position`)
- **選手名** (`name`)

これらのフィールドを正確に入力することで、ユーザーが選手を見つけやすくなります。

## 💡 Tips

### ポジションの略称

| 略称 | フルネーム |
|---|---|
| PG | ポイントガード |
| SG | シューティングガード |
| SF | スモールフォワード |
| PF | パワーフォワード |
| C | センター |

### 画像URLの取得方法

#### 方法1: NBA公式サイト
```
https://cdn.nba.com/headshots/nba/latest/1040x760/{PLAYER_ID}.png
```
- `{PLAYER_ID}`は NBA公式のプレイヤーIDに置き換えてください
- 例: `https://cdn.nba.com/headshots/nba/latest/1040x760/2544.png`（レブロン）

#### 方法2: デフォルト画像
画像が見つからない場合は、デフォルト画像を使用：
```
https://cdn.nba.com/headshots/nba/latest/1040x760/default.png
```

#### 方法3: カスタム画像
Firebase Storageにアップロードした画像のURLを使用することも可能です。

### チーム名の統一

チーム名は以下の形式で統一することをおすすめします：

**日本語表記:**
- ロサンゼルス・レイカーズ
- ゴールデンステート・ウォリアーズ
- ボストン・セルティックス

**英語表記も可:**
- Los Angeles Lakers
- Golden State Warriors
- Boston Celtics

どちらを使用しても構いませんが、プロジェクト全体で統一してください。

## 📦 一括登録

複数の選手を一括で登録する場合：

1. Firebaseコンソールの「インポート」機能を使用
2. またはFirebase Admin SDKを使用したスクリプトを作成

詳細は[Firebase公式ドキュメント](https://firebase.google.com/docs/firestore/manage-data/add-data)を参照してください。

## ❓ よくある質問

### Q: playerId はどのように決めればいい？
A: 選手名を英語表記にして、スペースをハイフンに置き換え、小文字にしたものを使用してください。
- 例: LeBron James → `lebron-james`

### Q: 画像が表示されない
A: `next.config.ts`で画像ドメインが許可されているか確認してください。現在は`cdn.nba.com`が許可されています。

### Q: summaryフィールドは何？
A: レビューの平均評価が自動的に保存されるフィールドです。初期値は空のオブジェクト`{}`で問題ありません。

### Q: reviewCountは手動で更新する？
A: いいえ。レビューが投稿されると自動的に更新されます。初期値は`0`で設定してください。

## 🛠 トラブルシューティング

### 保存できない
- すべての必須フィールドが入力されているか確認
- フィールドの型が正しいか確認（numberフィールドに文字列を入れていないか等）

### 選手が表示されない
- Firestoreセキュリティルールで読み取りが許可されているか確認
- ブラウザのコンソールでエラーを確認

## 📞 サポート

問題が発生した場合は、GitHubのIssuesで質問してください。


