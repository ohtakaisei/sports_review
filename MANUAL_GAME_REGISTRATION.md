# 手動試合結果登録ガイド

ESPNなどの情報源から試合結果を手動で登録する方法です。

**重要**: 選手データは不要です。試合日、対戦相手、スコアだけを入力すればOKです。
実際のページでは、そのチームの全ロスターが自動表示され、ユーザーが各選手に対してその試合の評価を投稿できます。

## 方法1: スクリプトを使用する（推奨）

### 手順

1. `scripts/add-game.ts` を開く
2. `gameData` に試合結果を入力（日付、チーム名、スコアのみ）
3. ターミナルで実行:
   ```bash
   tsx scripts/add-game.ts
   ```

### 入力例

```typescript
const gameData: Omit<Game, 'gameId' | 'createdAt'> = {
  date: '2025-12-07', // YYYY-MM-DD形式
  homeTeam: 'フィラデルフィア・セブンティシクサーズ', // ホームチーム名（日本語の正式名称）
  awayTeam: 'ロサンゼルス・レイカーズ', // アウェイチーム名（日本語の正式名称）
  homeScore: 108, // ホームチームのスコア
  awayScore: 112, // アウェイチームのスコア
  status: 'finished', // 'finished' | 'scheduled' | 'live'
  // players フィールドは不要（チームのロスターは自動取得されます）
};
```

## 方法2: APIエンドポイントを使用する

### 手順

1. POSTリクエストを送信:
   ```bash
   curl -X POST http://localhost:3000/api/games \
     -H "Content-Type: application/json" \
     -d '{
       "date": "2025-12-07",
       "homeTeam": "フィラデルフィア・セブンティシクサーズ",
       "awayTeam": "ロサンゼルス・レイカーズ",
       "homeScore": 108,
       "awayScore": 112,
       "status": "finished"
     }'
   ```

## 必須フィールド

- `date`: 試合日（YYYY-MM-DD形式）
- `homeTeam`: ホームチーム名（日本語の正式名称）
- `awayTeam`: アウェイチーム名（日本語の正式名称）
- `homeScore`: ホームチームのスコア（数値）
- `awayScore`: アウェイチームのスコア（数値）

## オプションフィールド

- `status`: 試合ステータス（`'finished'` | `'scheduled'` | `'live'`、デフォルト: `'finished'`）
- `players`: 選手データの配列（**手動入力時は不要**。AI取得時のみ使用）

## 注意事項

- **重複チェック**: 同じ日付・同じチームの試合は登録できません
- **スコア検証**: スコアが0-0の場合は登録できません
- **選手データは不要**: チームのロスターは自動取得され、ユーザーが各選手に対して評価を投稿できます
- **チーム名の一致**: データベースに登録されているチーム名と完全に一致する必要があります（例: `ロサンゼルス・レイカーズ`、`フィラデルフィア・セブンティシクサーズ`）

## 動作の流れ

1. 管理者が試合結果（日付、チーム名、スコア）を登録
2. ユーザーが試合詳細ページにアクセス
3. システムが自動的にホームチームとアウェイチームの全ロスターを取得して表示
4. ユーザーが各選手をクリックして、その試合の評価を投稿
5. 評価は試合ごとに管理され、通常の選手評価とは別に保存されます

